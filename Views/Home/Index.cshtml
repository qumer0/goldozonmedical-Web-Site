@model List<Product>



@{
    var sliderItems = ViewBag.SliderItems as List<SliderItem>; // Slider öğelerini ViewBag'den alıyoruz
}

<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Anasayfa</title>
    <link rel="stylesheet" href="~/Content/bootstrap.css" />
    <link rel="stylesheet" href="~/css/Home.css" />
    <script src="~/Scripts/jquery-3.6.0.min.js"></script>
    <script src="~/Scripts/bootstrap.bundle.min.js"></script>
</head>
<body>

    <!-- Ana sayfa slider -->
    <div id="homepageCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
            @for (int i = 0; i < sliderItems.Count; i++)
            {
                <button type="button" data-bs-target="#homepageCarousel" data-bs-slide-to="@i" class="@(i == 0 ? "active" : "")" aria-current="true" aria-label="Slide @i"></button>
            }
        </div>
        <div class="carousel-inner" style="border-radius: 15px;">
            @foreach (var item in sliderItems)
            {
                var isActive = sliderItems.IndexOf(item) == 0 ? "active" : "";
                <div class="carousel-item @isActive" >
                    <img src="@Url.Content(item.ImageUrl)" class="d-block w-100" alt="@item.Caption" style="border-radius: 15px;">
                </div>
            }
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#homepageCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Önceki</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#homepageCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Sonraki</span>
        </button>
    </div>

    <!-- Ürünler kısmı -->
    <div class="container products-section" style="margin-top: 30px;">
        <h2 id="products" class="products-title-with-lines" style="text-align: center; margin-bottom: 30px;">Ürünlerimiz</h2>
        <div class="row">
            @foreach (var product in Model.Select((item, index) => new { item, index }))
            {
                var isEven = product.index % 2 == 0; // İlk ürün için true, ikinci ürün için false, her seferinde tekrar eder
                <div class="col-md-12 product-card">
                    <div class="card mb-4 shadow-sm @((isEven) ? "card-left" : "card-right")">
                        <div class="row no-gutters">
                            @if (isEven)
                            {
                                <div class="col-md-6">
                                    <img src="@Url.Content(product.item.ImageUrl)" class="card-img" alt="@product.item.Name" />
                                </div>
                                <div class="col-md-6">
                                    <div class="card-body">
                                        <h5 class="card-title">@product.item.Name</h5>
                                        <p class="card-text">@product.item.Description</p>
                                        
                                    </div>
                                </div>
                            }
                            else
                            {
                                <div class="col-md-6 order-md-2">
                                    <img src="@Url.Content(product.item.ImageUrl)" class="card-img" alt="@product.item.Name" />
                                </div>
                                <div class="col-md-6 order-md-1">
                                    <div class="card-body">
                                        <h5 class="card-title">@product.item.Name</h5>
                                        <p class="card-text">@product.item.Description</p>
                                        
                                    </div>
                                </div>
                            }
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>

</body>
</html>
